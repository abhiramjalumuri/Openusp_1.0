# TR-369 USP Agent Configuration
# ================================

# Agent Device Information
device_info:
  endpoint_id: "os:OpenUSPTest:000028833"
  product_class: "HomeGateway"
  manufacturer: "Plume Design"
  model_name: "USP-Gateway-v10000"
  serial_number: "PLUME-USP-00abcd5"
  software_version: "1.1.0"
  hardware_version: "1.0"
  device_type: "gateway"
  oui: "00D04F"

# USP Protocol Configuration
usp_protocol:
  version: "1.3"
  supported_versions: ["1.3", "1.4"]
  agent_role: "device"
  command_key: "usp-agent-001"

# Message Transport Protocol (MTP) Configuration
mtp:
  type: "websocket" # Supported: websocket, mqtt, stomp, uds

  # WebSocket MTP Configuration
  websocket:
    url: "ws://localhost:8081/ws" # Standard OpenUSP MTP port
    subprotocol: "v1.usp"
    ping_interval: "30s"
    pong_timeout: "10s"
    reconnect_interval: "5s"
    max_reconnect_attempts: 10

  # MQTT MTP Configuration
  mqtt:
    broker_url: "tcp://localhost:1883"
    client_id: "usp-agent-001"
    username: "usp"
    password: "usp123"
    topic_request: "usp/agent/request"
    topic_response: "usp/agent/response"
    qos: 1
    retain: false
    clean_session: true
    keep_alive: "60s"

  # STOMP MTP Configuration
  stomp:
    broker_url: "tcp://localhost:61613"
    username: "usp"
    password: "usp123"
    destination_request: "/queue/usp.agent.request"
    destination_response: "/queue/usp.agent.response"
    heartbeat_send: "30s"
    heartbeat_receive: "30s"

  # Unix Domain Socket MTP Configuration
  uds:
    socket_path: "/tmp/usp-agent.sock"
    socket_mode: "0666"

# OpenUSP Platform Integration
platform:
  url: "https://localhost:6500"
  api_version: "v1"
  registration_endpoint: "/api/v1/devices"
  heartbeat_interval: "60s"

# Agent Behavior Configuration
agent_behavior:
  auto_register: true
  periodic_inform_enabled: true
  periodic_inform_interval: "300s"
  parameter_update_notification: true
  event_notification: true
  diagnostic_mode: false

# Security Configuration
security:
  tls_enabled: false
  tls_cert_file: ""
  tls_key_file: ""
  tls_ca_file: ""
  tls_skip_verify: true

# Logging Configuration
logging:
  level: "info" # debug, info, warn, error
  format: "json" # json, text
  output: "stdout" # stdout, file
  file: "logs/tr369-agent.log"

# Performance Tuning
performance:
  buffer_size: 4096
  max_message_size: 1048576 # 1MB
  connection_timeout: "30s"
  read_timeout: "60s"
  write_timeout: "60s"
  idle_timeout: "300s"

# Development and Testing
development:
  mode: true
  mock_data_enabled: false
  test_mode: false
  verbose_logging: false
