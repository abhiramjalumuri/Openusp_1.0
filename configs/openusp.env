# OpenUSP - Unified Environment Configuration
# This file centralizes all environment variables used across the platform

# =============================================================================
# SERVICE PORTS CONFIGURATION (6xxx series)
# =============================================================================
# HTTP/REST Service Ports
# API Gateway HTTP/REST + Swagger UI
OPENUSP_API_GATEWAY_PORT=6500
# MTP Service HTTP + WebSocket
OPENUSP_MTP_SERVICE_PORT=8081
# USP Service HTTP endpoints (6250-6299 range)
OPENUSP_USP_SERVICE_PORT=6250
# CWMP Service HTTP
OPENUSP_CWMP_SERVICE_PORT=7547
# Data Service HTTP for metrics
OPENUSP_DATA_SERVICE_HTTP_PORT=6400

# gRPC Service Ports (56xxx series)
OPENUSP_MTP_SERVICE_GRPC_PORT=56100 # MTP Service gRPC
OPENUSP_USP_SERVICE_GRPC_PORT=56250 # USP Service gRPC (56250-56299 range)
OPENUSP_CWMP_SERVICE_GRPC_PORT=56300 # CWMP Service gRPC
OPENUSP_DATA_SERVICE_GRPC_PORT=56400 # Data Service gRPC

# =============================================================================
# DATABASE CONFIGURATION (PostgreSQL)
# =============================================================================
OPENUSP_DB_HOST=localhost
OPENUSP_DB_PORT=5433
OPENUSP_DB_NAME=openusp_db
OPENUSP_DB_USER=openusp
OPENUSP_DB_PASSWORD=openusp123
OPENUSP_DB_SSLMODE=disable

# =============================================================================
# SERVICE DISCOVERY CONFIGURATION (Consul)
# =============================================================================
# Enable Consul for service discovery by default in development
CONSUL_ENABLED=true
CONSUL_ADDR=localhost:8500
CONSUL_DATACENTER=dc1
CONSUL_TOKEN=

# =============================================================================
# SERVICE INTER-COMMUNICATION
# =============================================================================
OPENUSP_DATA_SERVICE_ADDR=localhost:56400
OPENUSP_API_GATEWAY_URL=http://localhost:6500
OPENUSP_MTP_SERVICE_URL=http://localhost:6100
OPENUSP_CWMP_SERVICE_URL=http://localhost:6300
OPENUSP_USP_SERVICE_URL=http://localhost:6250

# =============================================================================
# PROTOCOL CLIENT CONFIGURATION
# =============================================================================
OPENUSP_USP_WS_URL=ws://localhost:8081/ws
OPENUSP_CWMP_ACS_URL=http://localhost:7547
OPENUSP_CWMP_USERNAME=acs
OPENUSP_CWMP_PASSWORD=acs123

# =============================================================================
# INFRASTRUCTURE SERVICES (External Dependencies)
# =============================================================================
# PostgreSQL (exposed from Docker)
OPENUSP_POSTGRES_HOST=localhost
OPENUSP_POSTGRES_PORT=5433
OPENUSP_POSTGRES_DB=openusp_db
OPENUSP_POSTGRES_USER=openusp
OPENUSP_POSTGRES_PASSWORD=openusp123

# RabbitMQ (STOMP/AMQP)
OPENUSP_RABBITMQ_HOST=localhost
OPENUSP_RABBITMQ_PORT=5672
OPENUSP_RABBITMQ_MGMT_PORT=15672
OPENUSP_RABBITMQ_STOMP_PORT=61613
OPENUSP_RABBITMQ_USER=admin
OPENUSP_RABBITMQ_PASSWORD=admin

# Mosquitto (MQTT)
OPENUSP_MOSQUITTO_HOST=localhost
OPENUSP_MOSQUITTO_PORT=1883
OPENUSP_MOSQUITTO_WS_PORT=9001

# Monitoring
OPENUSP_PROMETHEUS_PORT=9090
OPENUSP_GRAFANA_PORT=3000
OPENUSP_GRAFANA_USER=admin
OPENUSP_GRAFANA_PASSWORD=admin

# Adminer
OPENUSP_ADMINER_PORT=8080

# =============================================================================
# DEVELOPMENT/DEBUG CONFIGURATION
# =============================================================================
OPENUSP_LOG_LEVEL=info
OPENUSP_LOG_DIR=logs
OPENUSP_ENABLE_DEBUG=false
OPENUSP_ENABLE_METRICS=true

# =============================================================================
# DOCKER NETWORK CONFIGURATION
# =============================================================================
OPENUSP_DOCKER_NETWORK=openusp-dev

# =============================================================================
# MTP TRANSPORT CONFIGURATION
# =============================================================================
OPENUSP_MTP_WEBSOCKET_ENABLED=true
OPENUSP_MTP_MQTT_ENABLED=true
OPENUSP_MTP_STOMP_ENABLED=true
OPENUSP_MTP_UNIX_SOCKET_ENABLED=true
OPENUSP_MTP_UNIX_SOCKET_PATH=/tmp/usp-agent.sock

# =============================================================================
# MTP (MESSAGE TRANSPORT PROTOCOL) CONFIGURATION
# =============================================================================
# Enable/disable individual MTP transports (true/false)
OPENUSP_MTP_WEBSOCKET_ENABLED=true
OPENUSP_MTP_MQTT_ENABLED=true
OPENUSP_MTP_STOMP_ENABLED=true
OPENUSP_MTP_UDS_ENABLED=true

# MTP transport-specific configuration
OPENUSP_MTP_WEBSOCKET_SUBPROTOCOL=v1.usp
OPENUSP_MTP_MQTT_BROKER_URL=tcp://localhost:1883
OPENUSP_MTP_STOMP_BROKER_URL=tcp://localhost:61613
OPENUSP_MTP_UDS_SOCKET_PATH=/tmp/openusp.sock

# =============================================================================
# USP PROTOCOL CONFIGURATION
# =============================================================================
OPENUSP_USP_VERSION_SUPPORT=1.3,1.4
OPENUSP_USP_ENDPOINT_ID=proto::usp.controller
OPENUSP_USP_DEFAULT_TIMEOUT=30

# =============================================================================
# TR-181 DATA MODEL CONFIGURATION
# =============================================================================
OPENUSP_TR181_SCHEMA_PATH=pkg/datamodel/tr-181-2-19-1-usp-full.xml
OPENUSP_TR181_TYPES_PATH=pkg/datamodel/tr-106-types.xml
OPENUSP_TR181_VALIDATION_ENABLED=true

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
OPENUSP_API_CORS_ENABLED=true
OPENUSP_API_CORS_ORIGINS=*
OPENUSP_CWMP_BASIC_AUTH_ENABLED=true
OPENUSP_TLS_ENABLED=false
OPENUSP_TLS_CERT_PATH=""
OPENUSP_TLS_KEY_PATH=""
