# TR-069 CWMP Agent Configuration - Consul Enabled
# ==============================================

service_discovery:
  consul_enabled: true
  consul_addr: "localhost:8500"
  consul_datacenter: "openusp-dev"

device_info:
  endpoint_id: "cwmp://tr069-demo-agent-consul-001"
  product_class: "HomeGateway"
  manufacturer: "OpenUSP"
  model_name: "CWMP-Gateway-v1"
  serial_number: "DEMO-CWMP-CONSUL-001"
  software_version: "1.1.0"
  hardware_version: "1.0"
  device_type: "gateway"
  oui: "00D04F"

cwmp_protocol:
  version: "1.4"
  supported_versions: ["1.0", "1.1", "1.2", "1.3", "1.4"]
  agent_role: "cpe"
  connection_request_auth: "digest"

acs:
  url: "http://localhost:7547"
  username: "acs"
  password: "acs123"
  periodic_inform_enabled: true
  periodic_inform_interval: "300s"
  parameter_key: "cwmp-agent-consul-001"

platform:
  url: "http://localhost:6500"
  api_version: "v1"
  registration_endpoint: "/api/v1/devices"
  heartbeat_interval: "60s"

consul_integration:
  service_discovery_enabled: true
  cwmp_service_name: "openusp-cwmp-service"
  api_gateway_service_name: "openusp-api-gateway"
  health_check_interval: "10s"
  service_tags: ["tr069", "cwmp", "agent", "consul", "v1.1.0"]

agent_behavior:
  auto_register: true
  inform_on_boot: true
  inform_on_periodic: true
  inform_on_value_change: true
  inform_on_connection_request: true
  max_envelopes: 1
  retry_min_wait_interval: "5s"
  retry_interval_multiplier: 2000

logging:
  level: "info"
  format: "json"
  output: "stdout"
  file: "logs/tr069-agent-consul.log"
  soap_messages: false
  http_requests: false

development:
  mode: true
  mock_data_enabled: false
  test_mode: false
  verbose_logging: false