# TR-069 CWMP Agent Configuration
# =================================

# Agent Device Information
device_info:
  endpoint_id: "cwmp:tr069-demo-agent-003"
  product_class: "HomeGateway"
  manufacturer: "Plume"
  model_name: "CWMP-Gateway-v1"
  serial_number: "Plume-CWMP-002"
  software_version: "1.1.0"
  hardware_version: "1.0"
  device_type: "gateway"
  oui: "00D04F"

# CWMP Protocol Configuration
cwmp_protocol:
  version: "1.4"
  supported_versions: ["1.0", "1.1", "1.2", "1.3", "1.4"]
  agent_role: "cpe"
  connection_request_auth: "digest"

# ACS (Auto Configuration Server) Configuration
acs:
  url: "http://localhost:7547" # Standard TR-069 CWMP port
  username: "acs"
  password: "acs123"
  periodic_inform_enabled: true
  periodic_inform_interval: "300s"
  parameter_key: "cwmp-agent-001"

# Connection Request Configuration
connection_request:
  url: "http://localhost:9999/cr"
  username: "cr"
  password: "cr123"
  path: "/cr"
  port: 9999

# OpenUSP Platform Integration
platform:
  url: "http://localhost:6500"
  api_version: "v1"
  registration_endpoint: "/api/v1/devices"
  heartbeat_interval: "60s"
  cwmp_service_endpoint: "/cwmp"

# SOAP/XML Configuration
soap_xml:
  soap_version: "1.1"
  soap_namespace: "urn:dslforum-org:cwmp-1-4"
  xml_strict_parsing: false
  xml_pretty_print: false
  envelope_namespace_prefix: "soap"

# HTTP/HTTPS Configuration
http:
  timeout: "60s"
  keep_alive: true
  max_idle_connections: 10
  idle_timeout: "90s"
  tls_handshake_timeout: "10s"
  expect_continue_timeout: "1s"

# Agent Behavior Configuration
agent_behavior:
  auto_register: true
  inform_on_boot: true
  inform_on_periodic: true
  inform_on_value_change: true
  inform_on_connection_request: true
  max_envelopes: 1
  retry_min_wait_interval: "5s"
  retry_interval_multiplier: 2000

# TR-181 Data Model Configuration
tr181:
  root_object: "Device."
  device_type: "InternetGatewayDevice"
  spec_version: "2.19.1"
  parameter_notifications: true
  object_notifications: true

# Session Management
session:
  timeout: "300s"
  max_concurrent: 5
  keep_alive: true
  cookie_enabled: false

# Security Configuration
security:
  tls_enabled: false
  tls_cert_file: ""
  tls_key_file: ""
  tls_ca_file: ""
  tls_skip_verify: true
  certificate_auth_enabled: false
  digest_auth_enabled: true
  basic_auth_enabled: true

# Authentication Configuration
authentication:
  realm: "CWMP"
  algorithm: "MD5"
  qop: "auth"
  nonce_timeout: "300s"

# Logging Configuration
logging:
  level: "info" # debug, info, warn, error
  format: "json" # json, text
  output: "stdout" # stdout, file
  file: "logs/tr069-agent.log"
  soap_messages: false
  http_requests: false

# Performance Tuning
performance:
  buffer_size: 4096
  max_message_size: 1048576 # 1MB
  connection_timeout: "30s"
  read_timeout: "60s"
  write_timeout: "60s"
  idle_timeout: "300s"
  max_connections: 100

# RPC Method Configuration
rpc_methods:
  get_rpc_methods: true
  set_parameter_values: true
  get_parameter_values: true
  get_parameter_names: true
  set_parameter_attributes: true
  get_parameter_attributes: true
  add_object: true
  delete_object: true
  reboot: true
  factory_reset: false
  download: true
  upload: false

# Event Configuration
events:
  bootstrap: true
  boot: true
  periodic: true
  value_change: true
  connection_request: true
  transfer_complete: true
  diagnostics_complete: false
  request_download: false
  autonomous_transfer_complete: false

# Fault Management
fault_management:
  tolerance_enabled: true
  max_retry_count: 3
  retry_interval: "10s"
  detailed_reporting: true

# Development and Testing
development:
  mode: true
  mock_data_enabled: false
  test_mode: false
  verbose_logging: false
  simulate_device_responses: false
